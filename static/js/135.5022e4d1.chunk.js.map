{"version":3,"file":"static/js/135.5022e4d1.chunk.js","mappings":"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","sources":["api/movies-api.jsx","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '87b6dca2cf33c39bc2e94fd412793a01';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const fetchTrending = async () => {\n  try {\n    const response = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchId = async id => {\n  try {\n    const response = await axios.get(`/movie/${id}?api_key=${API_KEY}`);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchQuery = async query => {\n  try {\n    const response = await axios.get(\n      `/search/movie?api_key=${API_KEY}&query=${query}`\n    );\n    return response;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchCast = async id => {\n  try {\n    const response = await axios.get(`/movie/${id}/credits?api_key=${API_KEY}`);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchReviews = async id => {\n  try {\n    const response = await axios.get(`/movie/${id}/reviews?api_key=${API_KEY}`);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"movieDetails\":\"MovieDetails_movieDetails__EbgQo\",\"button\":\"MovieDetails_button__uXZxd\",\"poster\":\"MovieDetails_poster__yO7gD\",\"posterImg\":\"MovieDetails_posterImg__7d7Yr\",\"posterGeneralInfo\":\"MovieDetails_posterGeneralInfo__3uH-K\",\"posterGenresList\":\"MovieDetails_posterGenresList__ctp5o\",\"posterAdditionInfo\":\"MovieDetails_posterAdditionInfo__ioDAJ\",\"posterAdditionInfoItem\":\"MovieDetails_posterAdditionInfoItem__F2-Ts\",\"posterAdditionalInfoLink\":\"MovieDetails_posterAdditionalInfoLink__ZwvqR\"};","import {\n  NavLink,\n  useLocation,\n  useParams,\n  Outlet,\n  Link,\n} from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { fetchId } from '../../api/movies-api';\nimport css from './MovieDetails.module.css';\n\nconst StyledNavLink = styled(NavLink)`\n  &.active {\n    text-decoration: underline;\n  }\n`;\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(null);\n  const [passName, setPassName] = useState(null);\n\n  const IMAGE__API = 'https://image.tmdb.org/t/p/w500';\n\n  const params = useParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    async function getMovieDetails() {\n      const movie = await fetchId(params.movieId);\n      setMovie(movie);\n    }\nsetPassName(location.state?.from ?? '/')\n    getMovieDetails();\n  }, [params.movieId, location.state?.from]);\n\n  return (\n    <div className={css.movieDetails}>\n      {movie && (\n        <div>\n          <Link to={passName}>\n            <button className={css.button} type=\"button\">\n              Go back\n            </button>\n          </Link>\n\n          <div className={css.poster}>\n            <img\n              className={css.posterImg}\n              src={`${IMAGE__API}${movie.poster_path}`}\n              alt=\"poster\"\n            />\n            <div className={css.posterGeneralInfo}>\n              <h2 className={css.posterTitle}>\n                {movie.title} (\n                {movie.release_date?.slice(0, movie.release_date?.indexOf('-'))}\n                )\n              </h2>\n              <p>User score: {Math.round(movie.vote_average * 10)}%</p>\n              <h3>Overview</h3>\n              <p>{movie.overview}</p>\n              <h3>Genres</h3>\n              {movie && (\n                <ul className={css.posterGenresList}>\n                  {movie.genres.map(genre => {\n                    return <li key={genre.id}>{genre.name}</li>;\n                  })}\n                </ul>\n              )}\n            </div>\n          </div>\n          <div className={css.posterAdditionInfo}>\n            <p>Additional info</p>\n            <ul>\n              <li className={css.posterAdditionInfoItem}>\n                <StyledNavLink\n                  className={css.posterAdditionalInfoLink}\n                  to=\"cast\"\n                >\n                  <h3>Cast</h3>\n                </StyledNavLink>\n              </li>\n              <li className={css.posterAdditionInfoItem}>\n                <StyledNavLink\n                  className={css.posterAdditionalInfoLink}\n                  to=\"reviews\"\n                >\n                  <h3>Reviews</h3>\n                </StyledNavLink>\n              </li>\n            </ul>\n          </div>\n          <Outlet />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["API_KEY","axios","fetchTrending","response","data","results","console","log","fetchId","id","fetchQuery","query","fetchCast","fetchReviews","StyledNavLink","styled","NavLink","useState","movie","setMovie","passName","setPassName","params","useParams","location","useLocation","useEffect","movieId","state","from","getMovieDetails","className","css","to","type","src","poster_path","alt","title","release_date","slice","indexOf","Math","round","vote_average","overview","genres","map","genre","name"],"sourceRoot":""}